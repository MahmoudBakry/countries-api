{"version":3,"sources":["../../src/models/city.model.js"],"names":["CitySchema","name","type","String","required","country","Number","ref","img","creationDate","Date","default","now","set","transform","doc","ret","options","id","_id","__v","initialize","connection","plugin","model","startAt"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACA,IAAMA,aAAa,qBAAW;AAC1BC,UAAM;AACFC,cAAMC,MADJ;AAEFC,kBAAU;;AAFR,KADoB;AAM1BC,aAAS,EAAE;AACPH,cAAMI,MADD;AAELC,aAAK,SAFA;AAGLH,kBAAU;AAHL,KANiB;AAW1BI,SAAK;AACDN,cAAMC;AADL,KAXqB;AAc1BM,kBAAc;AACVP,cAAMQ,IADI;AAEVC,iBAASD,KAAKE;AAFJ;AAdY,CAAX,CAAnB;;AAoBAZ,WAAWa,GAAX,CAAe,QAAf,EAAyB;AACrBC,eAAW,mBAAUC,GAAV,EAAeC,GAAf,EAAoBC,OAApB,EAA6B;AACpCD,YAAIE,EAAJ,GAASF,IAAIG,GAAb;;AAEA,eAAOH,IAAIG,GAAX;AACA,eAAOH,IAAII,GAAX;AACH;AANoB,CAAzB;AAQA,gCAAcC,UAAd,CAAyB,mBAASC,UAAlC;AACAtB,WAAWuB,MAAX,CAAkB,gCAAcA,MAAhC,EAAwC;AACpCC,WAAO,MAD6B;AAEpCC,aAAS;AAF2B,CAAxC;;kBAOe,mBAASD,KAAT,CAAe,MAAf,EAAuBxB,UAAvB,C","file":"city.model.js","sourcesContent":["import mongoose, { Schema } from \"mongoose\";\r\nimport autoIncrement from 'mongoose-auto-increment';\r\nconst CitySchema = new Schema({\r\n    name: {\r\n        type: String,\r\n        required: true,\r\n\r\n    },\r\n    country: { // Make sure to create the country model first\r\n        type: Number,\r\n        ref: 'country',\r\n        required: true\r\n    },\r\n    img: {\r\n        type: String,\r\n    },\r\n    creationDate: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nCitySchema.set('toJSON', {\r\n    transform: function (doc, ret, options) {\r\n        ret.id = ret._id;\r\n\r\n        delete ret._id;\r\n        delete ret.__v;\r\n    }\r\n});\r\nautoIncrement.initialize(mongoose.connection);\r\nCitySchema.plugin(autoIncrement.plugin, {\r\n    model: 'city',\r\n    startAt: 1,\r\n});\r\n\r\n\r\n\r\nexport default mongoose.model(\"city\", CitySchema);"]}