{"version":3,"sources":["../../src/routes/country.route.js"],"names":["requireAuth","authenticate","session","router","Router","use","route","post","validateBody","createCountry","get","allCountries","put","validateHeader","updateCountry","countryInformaton","delete","deleteCountry"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,cAAc,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAApB;AACA,IAAMC,SAAS,kBAAQC,MAAR,EAAf;AACAD,OAAOE,GAAP;AACA;;;AAGAF,OAAOG,KAAP,CAAa,GAAb;AACI;;;;;;;;;;;;;;AAcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAfJ,CA4CKC,IA5CL,CA6CI,kBAAkBC,YAAlB,EA7CJ,EA8CI,kBAAkBC,aA9CtB;;AAiDI;;;;;;;;;;;;;;;;AAjDJ,CAiEKC,GAjEL,CAiES,kBAAkBC,YAjE3B;AAkEA;AACAR,OAAOG,KAAP,CAAa,MAAb;AACI;;;;;;;;;;;;;;;;;;;;;;;;;;;AADJ,CA4BKM,GA5BL,CA6BIZ,WA7BJ,EA8BI,kBAAkBa,cAAlB,EA9BJ,EA+BI,kBAAkBC,aA/BtB;AAiCI;;AAEA;;;;;;;;;;;;;;;;;;;;;AAnCJ,CAwDKJ,GAxDL,CAwDS,kBAAkBK,iBAxD3B;AAyDI;AAzDJ,CA0DKC,MA1DL,CA0DY,kBAAkBC,aA1D9B;;kBA4Ded,M","file":"country.route.js","sourcesContent":["import express from \"express\";\r\nimport CountryController from \"../controllers/country.controller\";\r\nimport countryController from \"../controllers/country.controller\";\r\nimport cityRoute from \"./city.route\"\r\nimport regionRoute from \"./region.route\";\r\nimport passport from \"passport\";\r\nconst requireAuth = passport.authenticate('jwt', { session: false });\r\nconst router = express.Router();\r\nrouter.use(cityRoute);\r\n//router.use(regionRoute);\r\n\r\n\r\nrouter.route('/')\r\n    /**\r\n    * @swagger\r\n    * definitions:\r\n    *   country:\r\n    *     required:\r\n    *     - \"name\"\r\n    *     properties:\r\n    *       name:\r\n    *         type: string\r\n    *       creationDate:\r\n    *         type: date\r\n    *         readOnly: true  \r\n    */\r\n\r\n    /**\r\n     * @swagger\r\n     * /countries:\r\n     *   post:\r\n     *     tags:\r\n     *       - Country\r\n     *     description: create new countrey\r\n     *     parameters:\r\n     *       - name: name\r\n     *         description: name of country\r\n     *         in: body\r\n     *         required: true \r\n     *         schema:\r\n     *           $ref: '#/definitions/country'\r\n     *     responses:\r\n     *       201:\r\n     *         description: return created country \r\n     *       400:\r\n     *         description: You have made an error maybe you didn't provide a required attribute\r\n     *       422: \r\n     *         description: name of country is duplicated \r\n     *       401: \r\n     *         description: token is required\r\n     *       403: \r\n     *         description: your token is bbelong to normal user not an admin[forrbiden] \r\n     *     \r\n    */\r\n\r\n\r\n    .post(\r\n    CountryController.validateBody(),\r\n    CountryController.createCountry\r\n    )\r\n\r\n    /**\r\n     * @swagger\r\n     * /countries:\r\n     *   get:\r\n     *     tags:\r\n     *       - Country\r\n     *     description: retrive all countries\r\n     *     responses:\r\n     *       200:\r\n     *         description: return all countries \r\n     *       401: \r\n     *         description: token is required\r\n     *       204: \r\n     *         description: no content exist now \r\n     *   \r\n    */\r\n    .get(countryController.allCountries)\r\n//routes for update, retrive one countrey, delete country \r\nrouter.route('/:id')\r\n    /**\r\n      * @swagger\r\n      * /countries/{id}:\r\n      *   put:\r\n      *     tags:\r\n      *       - Country\r\n      *     description: update one countries\r\n      *     parameters:\r\n      *       - name : id \r\n      *         in : path\r\n      *         require : true\r\n      *       - name: name\r\n      *         description: name of country\r\n      *         in: body\r\n      *         required: flase      \r\n      *         schema:\r\n      *           $ref: '#/definitions/country' \r\n      *     responses:\r\n      *       200:\r\n      *         description: updating proccess done  \r\n      *       403: \r\n      *         description: your token is bbelong to normal user not an admin[forrbiden] \r\n      *       401: \r\n      *         description: token is required\r\n      *       422: \r\n      *         description: validation error may duplicated country name \r\n     */\r\n    .put(\r\n    requireAuth,\r\n    countryController.validateHeader(),\r\n    countryController.updateCountry\r\n    )\r\n    //get one country details \r\n\r\n    /**\r\n     * @swagger\r\n     * /countries/{id}:\r\n     *   get:\r\n     *     tags:\r\n     *       - Country\r\n     *     description: retrive one country details\r\n     *     parameters: \r\n     *       - name : id\r\n     *         in : path\r\n     *         require : true \r\n     *     responses:\r\n     *       200:\r\n     *         description: return one countries \r\n     *       401: \r\n     *         description: token is required\r\n     *       204: \r\n     *         description: no content exist now \r\n     *       422: \r\n     *         description : validation error in countryId may be invalid or missed    \r\n    */\r\n    .get(countryController.countryInformaton)\r\n    //delete on country \r\n    .delete(countryController.deleteCountry)\r\n\r\nexport default router;"]}