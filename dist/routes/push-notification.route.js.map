{"version":3,"sources":["../../src/routes/push-notification.route.js"],"names":["requireAuth","authenticate","session","router","Router","post","PushController","subscribe","unsubscribe","update"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,cAAc,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAApB;;AAEA,IAAMC,SAAS,kBAAQC,MAAR,EAAf;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BAD,OAAOE,IAAP,CAAY,iBAAZ,EAA8BL,WAA9B,EAA0CM,eAAeC,SAAzD;AACAJ,OAAOE,IAAP,CAAY,mBAAZ,EAAgCL,WAAhC,EAA4CM,eAAeE,WAA3D;AACAL,OAAOE,IAAP,CAAY,cAAZ,EAA2BL,WAA3B,EAAuCM,eAAeG,MAAtD;;kBAIeN,M","file":"push-notification.route.js","sourcesContent":["import express from \"express\";\r\nimport passport from \"passport\";\r\n\r\nconst requireAuth = passport.authenticate('jwt', { session: false });\r\n\r\nconst router = express.Router();\r\n\r\n\r\n/**\r\n * @swagger\r\n * /push-subscribe:\r\n *   post:\r\n *     tags:\r\n *       - Push Notifications\r\n *     description: Add a new token for first time\r\n *     parameters:\r\n *       - in: body\r\n *         name: body\r\n *         schema:\r\n *           type: object\r\n *           required:\r\n *           - \"token\"\r\n *           properties:\r\n *            token:\r\n *             type: string\r\n *     responses:\r\n *       204:\r\n *         description: No Content\r\n *       422:\r\n *         description: token is required\r\n *       401:\r\n *         description: UnAuthorized\r\n*/\r\n\r\n\r\n\r\n/**\r\n * @swagger\r\n * /push-unsubscribe:\r\n *   post:\r\n *     tags:\r\n *       - Push Notifications\r\n *     description: Remove this token from subscribtions\r\n *     parameters:\r\n *       - in: body\r\n *         name: body\r\n *         schema:\r\n *           type: object\r\n *           required:\r\n *           - \"token\"\r\n *           properties:\r\n *            token:\r\n *             type: string\r\n *     responses:\r\n *       204:\r\n *         description: No Content\r\n *       422:\r\n *         description: token is required\r\n *       401:\r\n *         description: UnAuthorized\r\n*/\r\n\r\n/**\r\n * @swagger\r\n * /push-update:\r\n *   post:\r\n *     tags:\r\n *       - Push Notifications\r\n *     description: Update subscription of specific token (onTokenRefresh firebase specific )\r\n *     parameters:\r\n *       - in: body\r\n *         name: body\r\n *         schema:\r\n *           type: object\r\n *           required:\r\n *           - \"oldToken\"\r\n *           - \"newToken\"\r\n *           properties:\r\n *            oldToken:\r\n *             type: string\r\n *            newToken:\r\n *             type: string\r\n *     responses:\r\n *       204:\r\n *         description: No Content\r\n *       422:\r\n *         description: oldToken or newToken are required\r\n *       401:\r\n *         description: UnAuthorized\r\n*/\r\n\r\n\r\n\r\nrouter.post(\"/push-subscribe\",requireAuth,PushController.subscribe) ;\r\nrouter.post(\"/push-unsubscribe\",requireAuth,PushController.unsubscribe) ;\r\nrouter.post(\"/push-update\",requireAuth,PushController.update) ;\r\n\r\n\r\n\r\nexport default router;\r\n"]}